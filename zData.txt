projectUsage
totalYearlyPayment
designArea
proyectInstaller
projectPanelsNumber
projectAddOnSystem
ProjectCustomerCashBack
addersData (Objeto)
projectCmsMod
solarPanelLocation
roofCondition
roofingMaterial
projectElectricPanelBrand

Sig pasos:
v2.1.37

38. que los mensajes se vean solo por equipo 
40. reps nomas que vean donde son duenos de sus tratos para los mensajes
41. mostrar el nombre y el mail de todos los reps/users que se han registrado en el app y que tengan el estatus de active
42. mostrar imagenes en el chat
43. y tal vez algo para poner la importancia
 
35. Y para el chat de leads, voy a agregar un pequeño boton para que le den click a resuelto o leído
36. Más bien un botón que convierta cualquier mensaje en task, Y tal vez que diga task complete, o not complete, O pending
37. en users falta un botton para activarlos o desactivarlos



*/    revisar por que no se han agregado los adders al lead
*/ 1. Habilitar el boton para que guarde la calculadora y que se pueda elegir la principal y las secundarias.
*/ 2. Habilitar la sección para subir fotos a Drive y poder traerlas al abrir el proyecto.
*/ 3. Quitar los cuadros no necesarios */
*/ 4. Cambiar el menu para que salga como pestañas y así se separen las secciones */
*/ 5. Hacer el formato del menú de leads y proyectos con los filtros necesarios. */
*/ 6. Agregar la sección para editar los prestamos por instaladora
*/ 7. Guardar calculadora en firebase
*/ 8. Leer los datos de firebase y guardarlos en un object para obtener la calculadora
*/ 9. Subir imagenes a Drive
*/ 10. hacer que las imagenes se guarden con el voltioId en drive
*/ 11. hacer que las imagenes se guarden con el voltioId en firebase junto con el link en una collection llamada 
*/ 12. asignar un dataset al boton borrar imagen para que al darle click, elimine esa imagen de firebase(*No se podra borrar desde el sistema)
*/ 13. Al cargar los datos de la caluladora no se estan sumando los adders
*/ 15. ProjectInfo debe ser solo vista por el administrador general
*/ 16. Drop down del closer y setter al agregar un nuevo lead
*/ 17. Drop down del closer y setter al editar lead
*/ 18. Al actualizar el installer se deb tomar sus valores de redline y ver donde se incluye esta opcion
*/ 19. Crear la funcion para agregar los credit links y que los traiga al abrir el proyecto
*/ 20. Guardar el financial y su redline en la base de datos
*/ 21. Hacer el calculo al cambiar el financial dropdown
*/ 22. Traer el financial al abrir el proyecto y ejecutar la calculadora, tambien se debe obtener el redline.
*/ 23. spiner al cargar los datos de los leads 
*/ 24. agregar closer y setter a la tabla 
*/ 25. Agregar systemSize a la tabla de leads
*/ 26. credit links, muestra los links al dar refresh, se debe ver como tarjetas, debe tener un link para ir a la pagina
*/ 27. Crear el template de los mensajes
*/ 29. Error al actualizar la propuesta, cuando no se ha guardado el proyecto, hay que crear el proyecto en la collection projectDetails para poder editarlo despues.
*/ 28. Un boton para crear nuevo chat, 
*/ 30. fecha y hora de los mensajes
*/ 34. Que se vaya al detalle del lead al hacer click a un boton
*/ 37. como sabes si los mensajes son de leads o projectos? Se tiene que hacer el cambio de lead a proyect, Si el Proyect type no es Lead entonces es Proyect o Canceled Proyect
*/ 39. LA SECCION DE MENSAJES SE DEBE MOVER A SEARCH LEAD Y HACER UNA FUNCION DONDE SI EL E.TARGET SEA MENSAJES, SE MUESTRE ESA SECCION

*/ formatted date:
    const timestamp =  r[7] ;
    const dateNew = new Date(timestamp.seconds * 1000 + Math.floor(timestamp.nanoseconds / 1000000));
    const date = new Date (r[7] * 1000)    
    let month = dateNew.getMonth() < 10 ? '0'+ (dateNew.getMonth() + 1): (dateNew.getMonth()+ 1)
    let day = dateNew.getDate() < 10 ? '0' + dateNew.getDate() : dateNew.getDate()
    const formattedDate = `${month}/${day}/${dateNew.getFullYear()}`;

let messageRow = document.querySelectorAll('.messageRow');
    
    messageRow.forEach(function(item) {
        item.addEventListener('click', function (e) {
            if (e.target.closest('.messageRow')) {
                voltioId = item.dataset.id
                leadName = item.dataset.name
                getDetailMessages()
                listMessagesSection.style.display = 'none'
                detailedMessagesSection.style.display = 'block'             
              }
        });
    });